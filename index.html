<!--

Scikit-learn: open source Python machine learning community

- Scikit-learn:
    - intro broader PyData ecosystem
    - core component, extremely valuable for a lot of research
    - some usage statistics etc?

- Contributions to scikit-learn in Université Paris Saclay, eg:
    - Doctoral missions supported by digicosme on scikit-learn
        - doctoral missiong on loky, funded by Digicosme, leading to important improvements in scikit-learn and even to upstream in Python 3.7
        - other doctoral missions
    - our contributions (ColumnTransformer?)

- Open source workflow:
    - narrative of contributions
    - summary slide: Open source: software engineering best practices
        (Version control, Bug tracker, Code review, Continuous integreation, Code quality)
    - valuable skill learned during doctoral missions

- More on open source community
    - Core open source software projects -> important for ecosystem, but underdevopled (thé picture)
    - point of view of maintainer (I have this for pandas, don't think that this is a problem since for sklearn is probably very similar)
    - How can you contribute?

-->

<!DOCTYPE html>
<html>
  <head>
    <title>Scikit-learn: open source Python machine learning community</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="slides.css">
<!--     <style type="text/css">
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz);
      @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic);
      @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic);

      body { font-family: 'Droid Serif'; }
      h1, h2, h3 {
        font-family: 'Yanone Kaffeesatz';
        font-weight: normal;
      }
      .remark-code, .remark-inline-code { font-family: 'Ubuntu Mono'; }
    </style>
-->
  </head>
  <body>
    <textarea id="source">

class: center, middle

# Scikit-learn

## Open source Python machine learning community

Joris Van den Bossche, Guillaume Lemaître

.affiliations[
  ![:scale 65%](img/logoUPSayPlusCDS_990.png)
  ![:scale 25%](img/inria-logo.png)
]

???

Notes for the _first_ slide!


---
class: center, middle

# Python's scientific ecosystem


#### ## Thanks to Jake VanderPlas for the figure

---
class: center, middle, bgheader
background-image: url(img/JakeVdP-ecosystem1.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(img/JakeVdP-ecosystem2.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(img/JakeVdP-ecosystem3.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(img/JakeVdP-ecosystem4.svg)
background-size: cover

---
count: false
class: center, middle, bgheader
background-image: url(img/JakeVdP-ecosystem5.svg)
background-size: cover


---
class: center, middle

# Scikit-learn

---
.center[
![scikit-learn](img/scikit-learn-logo.png)
]

### Library of Machine Learning algorithms

### Open Source project

### Python / NumPy / SciPy / Cython

### Simple **fit** / **predict** / **transform** API

### Model Assessment, Selection, Ensembles

---
background-image: url(img/sklearn-flow-1.png)
background-size: contain

---
background-image: url(img/sklearn-flow-2.png)
background-size: contain

---
background-image: url(img/sklearn-flow-3.png)
background-size: contain

---
background-image: url(img/scikit-learn.org.png)
background-size: contain


---
# Scikit-learn: the vision

1. Machine learning for everybody and for everything
2. Machine learning without learning the machinery

---
# Scikit-learn in numbers

<center>
![:scale 30%](img/sklearn_logo.png)
</center>

![:scale 100%](img/stats.png)

* Almost 1,100 contributors
* Around 12 core contributors
* Estimated cost of development: $ 2 millions
* Estimated effort: 37 person-years

---
# Scikit-learn in numbers

![:scale 100%](img/user_stats.png)

---
class: center, middle

# Contributions to scikit-learn at Paris-Saclay

---
# Loky

### Context:

* Doctoral mission (Thomas Moreau) funded by DigiCosme.

---
# Loky

- `Thread` can be efficient to run multicore programs if your code releases the **GIL**.

- `Process` for efficient multicore on pure Python code.

--

- Use `Process` with `spawn` and try to reuse the pool of process as much as possible.

- `loky` improves the management of a pool of workers in projects such as `joblib`.


---
# Loky

<center>
![:scale 70%](img/loky.png)
</center>

---
# Loky

### Context:

* Doctoral mission (Thomas Moreau) funded by DigiCosme.

### Outcome:

* Important improvements in `joblib` and `scikit-learn`: e.g. enable nested
  parallelism, support of OpenMP
* Contributions upstream to Python 3.7
* Experience for people involved in the development

---
# Scikit-learn features

* `ColumnTransformer`
* `CategoricalEncoder`
* `MICEImputer`
* `PowerTransformer`
* `TransformedTargetRegressor`
* `StackingClassifier` and `StackingRegressor`

Aim: Features developed to enable baseline machine learning algorithms and
pipeline




---

slides about Thomas Moreau mission doctoral funded by Digicosme

---
class: center, middle

# Open source development

---
class: center, middle, bgheader
background-image: url(img/workflow-issue.png)
background-size: contain

---
class: center, middle, bgheader
background-image: url(img/workflow-pr.png)
background-size: contain

---
class: center, middle, bgheader
background-image: url(img/workflow-pr-changed.png)
background-size: contain

---
class: center, middle, bgheader
background-image: url(img/workflow-pr-review.png)
background-size: contain

---
class: center, middle, bgheader
background-image: url(img/workflow-pr-ci.png)
background-size: contain

---
class: center, middle, bgheader
background-image: url(img/workflow-pr-ci-travis.png)
background-size: contain


---

# Software engineering best practices

Used in major open source projects:

- Version control (git)
- Bug tracker (GitHub)
- Code review (GitHub)
- Unit testing and Continuous Integration (Travis CI, Appveyor, ...)
- Code quality (flake8, ...)
- Documentation (sphinx)

--

-> valuable skills learned during doctoral missions

---
class: center, middle

# Open source community


---
# OSS: an under-estimated resource

<center>
  ![:scale 75%](img/vital_code.png)
</center>


---

# Pandas is built by a community

![:scale 32%](img/contributors1.png)
![:scale 32%](img/contributors2.png)
![:scale 32%](img/contributors3.png)

.right[
### ... and 1,119 more contributors.
]


---

# An increasing user base ...

.center[
![:scale 80%](img/pypi-downloads-pandas.png)
]

???

how many pandas users?

website: 400,000 active users that come back every month

also scope becomes bigger

---

## ... gives increasing maintenance cost

.center[
![:scale 80%](img/github-pandas-events.png)
]


---

# Pandas* development

Main bottleneck are maintainers

* Reviewing pull requests
* Deciding on design questions
* Tackling bigger issues
* Infrastructure work (CI, packaging, ...)

High-quality open source software is not built on hackatons, but needs highly engaged developers

<div style="margin-bottom:120px"></div>

.grey[.right[.small[*The same is true for other open source packages]]]


???

to be clear: hackatons and sprints are great to introduce people to contributing to open source,
but that alone is not a sustainable way to maintain big open source projects

+ note: not to dismiss the many great packages that are actually build (initially) as an evening hack

---
count: false


# Pandas* development

Main bottleneck are maintainers

* Reviewing pull requests
* Deciding on design questions
* Tackling bigger issues
* Infrastructure work (CI, packaging, ...)

High-quality open source software is not built on hackatons, but needs highly engaged developers

### Only ca 6 - 10 regular contributors / reviewers

--
count: false

### No full time developers (3 part-time)


???

Contrast this to the gigantic use and importance for the python data science ecosystem


# Pandas 1.0, 2.0, ....

### ... are ideas.

A lot of work is needed (code, design, ..). We need YOUR help.

### ... will impact users.

We need YOUR input on that.


???

Those deprecations are part of path to 1.0
with view of 2.0
    what is the vision for that?
Many changes coming, we need YOUR input on that
Pandas: growth over time (get statistics from page website?), downloads
    but limited resources, limited core contributors (6 to 10)




    How can you help? In your institurion or comparny, or as an individual? * Contribute time ** Give feedback ** Report issues ** Contribute code / PRs * Contribute money ** Donations through NumFocus

    Complain -> Complain publicly -> Turn into improvements of the pandas ecosystem / turn into constructive feedback (your most unhappy customers are your greatest learning source) -> we learn from this, but also knows what lives, and can also try to solve those problems

    pandas-dev mailing list

    contribute -> my first contribution to pandas was ... a typo correction (screenshot) don't hesitate, don't be emabarrased, just do


---

## How can you help as an individual?

--
count: false

### Complain!

---
count: false

## How can you help as an individual?

### ~~Complain!~~

### Complain publicly!

---
count: false

## How can you help as an individual?

### ~~Complain!~~

### ~~Complain publicly!~~

### Engage with the community

Turn this into constructive feedback / improvements of the pandas ecosystem


---

# Engage with the community

Community building

- StackOverflow and mailing lists
- Blogging and talks
- Meet-ups and sprints

Contribute feedback

- Open bug reports and enhancement requests
- Join discussions on the mailing list / issues

[https://github.com/pandas-dev/pandas/issues](https://github.com/pandas-dev/pandas/issues)

[https://mail.python.org/pipermail/pandas-dev/](https://mail.python.org/pipermail/pandas-dev/)



---

# How can you help?

## Engage with the community

## Contribute code

---

## My first contribution to pandas

--
count: false

![:scale 100%](img/first-contribution.png)

--
count: false

<div style="margin-bottom:-30px"></div>

### ... and now I am a pandas core dev


---
## How can you help as a company?

--
count: false

### Allow and encourage employees to engage with the community

???

let employees blog about usage, open issues, go to / speak at conferences or meetups, contribute, ...

---
## How can you help as a company?

### Allow and encourage employees to engage with the community

### Contribute financially

---

# Donate

.center[
![:scale 64%](img/NumFocus_LRG.png)
![:scale 35%](img/ursa_logo_inverted.png)
]

https://www.numfocus.org/

https://ursalabs.org/

http://pandas.pydata.org/donate.html

---

## How can you help as a company?

### Allow and encourage employees to engage with the community

### Contribute financially

### Employ open source developers (or let employees become one)


???

that doesn't need to be full time

give employees that want it time to contribute to the packages they are using

---

# Employ pandas developers

.center[
.affiliations[
  ![:scale 40%](img/continuum-logo.png)
  ![:scale 50%](img/twosigma-logo.png)
  ![:scale 35%](img/inria-logo.png)
]
]

---

# Why engage in open source?

### Quality open source software does not come for free

--
count: false

### Growth path for engineers

???

- This gives a new dimension to grow for your engineering. Other career perspective than becoming a manager.
- Help you recruit people, show off the quality of your tech teams.

--
count: false

### Better knowledge of the technical stack you are using


---

# How can you help?

### Engage with the community

### Contribute feedback

### Contribute code

### Employ pandas developers / allow employers to contribute

### Donate




    </textarea>
    <script src="remark.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      remark.macros.scale = function (percentage) {
        var url = this;
        return '<img src="' + url + '" style="width: ' + percentage + '" />';
      };
      var slideshow = remark.create();
    </script>
  </body>
</html>
